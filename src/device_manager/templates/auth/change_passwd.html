{% extends "/base.html" %}

{% from 'macros.html' import message_part with context %}

{% block title %}修改密码{% endblock %}

{% block nav %}
    <a class="active item"><i class="key icon"></i>修改密码</a>
    <a class="item" href="{{ url_for('main.site_index') }}"><i class="arrow left icon"></i>返回首页</a>
{% endblock %}

{% block content %}
    <div>
        <h2 class="ui blue image header">
            <div class="content">
                修改密码
            </div>
        </h2>
        {{ message_part() }}
        <div class="ui warning message">
            <div class="header">
                注意事项
            </div>
            <ul class="list">
                <li>1，若点击按钮无法提交，请刷新页面后重试</li>
                <li>2，如果仍然无法提交，请更换现代浏览器（<a href="https://www.google.cn/intl/zh-CN/chrome" target="_blank">
                    <i class="iconfont icon-chrome"></i>
                    Chrome
                    <span>谷歌</span>
                </a>/
                    <a href="https://www.mozilla.org/zh-CN/firefox/new" target="_blank">
                        <i class="iconfont icon-firefox"></i>
                        Firefox
                        <span>火狐</span>
                    </a>
                    /
                    <a href="https://www.microsoftedgeinsider.com" target="_blank">
                        <i class="iconfont icon-edge"></i>
                        Edge
                        <span>微软</span>
                    </a>等）
                </li>
            </ul>
        </div>
        <form class="ui large form" action="" method="POST">
            <div class="ui stacked segment">
                <div class="field">
                    <label>密码</label>
                    <div class="ui left icon input">
                        <input class="ui input" type="password" name="password" id="password"
                               placeholder="请输入密码，至少 6 个字符">
                        <i class="lock icon"></i>
                    </div>
                </div>
                <div class="field">
                    <label>确认密码</label>
                    <div class="ui left icon input">
                        <input class="ui input" type="password" name="password_confirm" id="password"
                               placeholder="请输入确认密码，至少 6 个字符">
                        <i class="lock icon"></i>
                    </div>
                </div>
                <input class="ui green submit button" type="submit" name="submit" value="点击此按钮提交">
            </div>
        </form>
    </div>
{% endblock %}

{% block script %}
    <script>
        $(document).ready(function () {
            $('.ui.form').form({
                fields: {
                    password: {
                        identifier: 'password',
                        rules: [
                            {
                                type: 'empty',
                                prompt: '未填写密码'
                            },
                            {
                                type: 'length[6]',
                                prompt: '密码长度小于 {ruleValue} 个字符'
                            }
                        ]
                    },
                    password_confirm: {
                        identifier: 'password_confirm',
                        rules: [
                            {
                                type: 'empty',
                                prompt: '未填写确认密码'
                            },
                            {
                                type: 'match[password]',
                                prompt: '与密码不一致'
                            }
                        ]
                    }
                },
                inline: true,
            })
        });
    </script>
{% endblock %}